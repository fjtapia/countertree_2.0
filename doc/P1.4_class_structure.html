<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
    <meta content="HTML Tidy for Windows (vers 1st November 2003), see www.w3.org"
      name="generator" />
    <title>Boost C++ Libraries</title>
    <link type="image/ico" href="img/favicon.ico" rel="icon" />
    <link href="css/section-welcome.css" type="text/css" rel="stylesheet" />
    <link href="css/code.css" type="text/css" rel="stylesheet" />
    <!--[if IE 7]> <style type="text/css"> body { behavior: url(/style-v2/csshover3.htc); } </style> <![endif]-->
    <meta content="mpr2HgFpodnbF_8fv4qXd9roIClVwtX3C-Kd3F6r61w" name="google-site-verification" />
    <!--
Note: Editing website content is documented at:http://www.boost.org/development/website_updating.html-->
  </head>
  <body>
    <div id="heading">
      <div class="heading-inner">
        <h1 class="heading-title"> <a href="http://www.boost.org/"> <img class="heading-logo"
              alt="Boost C++ Libraries" src="img/space.png" /> <span class="heading-boost">Boost</span>
            <span class="heading-cpplibraries">C++ Libraries</span> <img src="img/preliminary.gif"
              alt="Preliminary" style="width: 300px; height: 80px;" /> </a></h1>
        <p class="heading-quote"> <q>...one of the most highly regarded and
            expertly designed C++ library projects in the world.</q> <span class="heading-attribution">—
            <a class="external" href="http://www.gotw.ca/">Herb Sutter</a> and <a
              class="external" href="http://en.wikipedia.org/wiki/Andrei_Alexandrescu">Andrei
              Alexandrescu</a>, <a class="external" href="http://safari.awprofessional.com/?XmlId=0321113586">C++
              Coding Standards</a></span></p>
      </div>
    </div>
    <div class="clear"> </div>
    <div class="cuerpo_central"> <br />
      <div class="cuerpo_texto"> <br />
        <span style="font-size: 24pt;"> <span style="font-weight: bold; color: black;">
            <a href="index.html">The [ Counter Tree + Suballocator ] Library</a>
          </span></span><br />
        <div>
          <div class="author">
            <h3 class="author"><br />
              <span class="firstname"></span></h3>
            <h3 class="author" style="font-size: 10pt; font-style: italic; font-weight: bold">
              <span style="font-weight: bold;"><span style="font-weight: bold;"
                  class="firstname">Francisco Jose Tapia</span>   Copyright ©
                2010-2013 Francisco Jose Tapia</span></h3>
          </div>
        </div>
        <div class="legalnotice">
          <p><span style="font-size: 10pt; font-style: italic; font-weight: bold">Distributed
              under the Boost Software License, Version 1.0. (See accompanying
              file LICENSE_1_0.txt or copy at <a target="_top" href="file:///LICENSE_1_0.txt">
                http://www.boost.org/LICENSE_1_0.txt )</a></span> </p>
        </div>
        <br />
        <br />
        <br />
        <div class="caja_menu"> <span style="font-size: 16pt; color: black;"><br />
            Table of Contents</span> <br />
          <div style="margin-left: 40px;">
            <div style="margin-left: 40px;"> <a href="P1.0_introduction.html#introduction">1.-
                Introduction</a><br />
              <div style="margin-left: 40px;"><a href="P1.0_introduction.html#countertree">1.1.-
                  Description of the Counter Trees</a><br />
                <a href="P1.0_introduction.html#benchmark">1.2.- Benchmark of
                  parallel algorithms</a><br />
                <a href="P1.3.0_new_elements.html#new_elements">1.3.- New
                  elements of the library</a><br />
                <div style="margin-left: 40px;"><a href="P1.3.0_new_elements.html#position">1.3.1.-
                    Access by position and random access iterators </a> <br />
                  <a href="P1.3.0_new_elements.html#deletion">1.3.2.- Deletion
                    in the first/last position</a><br />
                </div>
                <div style="margin-left: 40px;"><a href="P1.3.0_new_elements.html#iterators">1.3.3.-
                    Iterators</a></div>
                <div style="margin-left: 40px;"> <a href="P1.3.4_description_suballocators.html#suballocator">1.3.4.-
                    Memory Problems (Suballocators<span style="color: #0000a0;">)</span></a><br />
                  <a href="P1.3.4_description_suballocators.html#countertree_suballocator">1.3.5.-
                    Description of Counter Trees + Suballocators </a><br />
                  <a href="P1.3.6_lock_system.html#lock">1.3.6.- New Lock system
                    (Single Write Multiple Read Mutex)</a> <br />
                  1<a href="P1.3.6_lock_system.html#new_functions">.3.7.- Safe
                    concurrent programming. (New functions)</a><br />
                </div>
                <a href="P1.4_class_structure.html#class_structure">1.4.- Class
                  structure Code description</a><br />
                <div style="margin-left: 40px;"> <a href="P1.4_class_structure.html#description">1.4.1.-
                    Description of the classes of the library</a><br />
                </div>
                <a href="P1.5.0_future.html#next_improvements">1.5.- Future
                  Improvements</a><br />
                <div style="margin-left: 40px;"><a href="P1.5.0_future.html#strategies">1.5.1-
                    Strategies for many core Systems. Parallel algorithms for
                    very large trees</a> <br />
                </div>
                <div style="margin-left: 40px;"><a href="P1.5.0_future.html#redesign">1.5.2-
                    Redesign of the internal algorithm</a><br />
                  <a href="P1.5.0_future.html#augmented">1.5.3- Augmented trees</a></div>
                <br />
                <br />
              </div>
            </div>
          </div>
        </div>
        <br />
        <br />
        <br />
        <p> </p>
        <br />
        <p><a name="class_structure"></a> <span style="font-size: 18pt;font-weight: bold; color: black;">1.4.-
            Class structure Code description</span></p>
        <p class="cuerpo_texto"> </p>
        <p class="cuerpo_texto"><br />
        </p>
        <p><a name="description"></a> <span style="font-size: 18pt;font-weight: bold; color: black;">1.4.1.-
            Description of the classes of the library<br />
          </span></p>
        <br />
        This library have 5 data structures based on the countertrees ( <span style="font-weight: bold;">
          cntree_vector, cntree_set, cntree_multiset, cntree_map and
          cntree_multimap</span>)  and a pool for to accelerate these data
        structures (<span style="font-weight: bold;">suballocator</span>)<br />
        These 5 classes and the pool are template base classes which  can be
        thread-safe or not, depending of the template parameters cnc, if true
        the class is concurrent if false not. <br />
        <br />
        <span style="font-weight: bold;">cntree_vector</span><br />
        <div style="margin-left: 40px;">
          <ul>
            <li>Vector based on the countertree.</li>
            <li>Non ordered contents</li>
            <li>Access by position and random access iterators.</li>
            <li>Identical interface to std::vector and std::deque</li>
          </ul>
        </div>
        <br />
        <span style="font-weight: bold;">cntree_set</span><br />
        <div style="margin-left: 40px;">
          <ul>
            <li>Identical interface to std::set.</li>
            <li>Access by position and random access iterators.</li>
          </ul>
        </div>
        <br />
        <span style="font-weight: bold;">cntree_multiset</span><br />
        <div style="margin-left: 40px;">
          <ul>
            <li>Identical interface to std::multiset.</li>
            <li>Access by position and random access iterators.</li>
          </ul>
        </div>
        <br />
        <span style="font-weight: bold;">cntree_map</span><br />
        <div style="margin-left: 40px;">
          <ul>
            <li>Identical interface to std::map.</li>
            <li>Access by position and random access iterators.</li>
          </ul>
        </div>
        <br />
        <span style="font-weight: bold;">cntree_multimap</span><br />
        <div style="margin-left: 40px;">
          <ul>
            <li>Identical interface to std::multimap.</li>
            <li>Access by position and random access iterators.</li>
          </ul>
        </div>
        <br />
        <br />
        The library have too a pool (named <span style="font-weight: bold;">suballocator</span>)
        for to allocate fixed size elements like in the data structures based on
        countertrees. It improve the speed of the data structures, and free the
        memory when they are not used. This pool use an allocator for to obtain
        the memory, and have the same interface than the allocator of the STL.
        You have two classes, depending if you need a thread-safe pool or not.<br />
        <br />
        <span style="font-weight: bold;">suballocator</span><br />
        <div style="margin-left: 40px;">
          <ul>
            <li>Provide thread local memory.</li>
            <li>Each thread have a different pool</li>
          </ul>
        </div>
        <br />
        <span style="font-weight: bold;">suballocator_cnc</span><br />
        <div style="margin-left: 40px;">
          <ul>
            <li>Provide global memory</li>
            <li>The memory provided is accesible to all the threads.</li>
            <li>Have concurrency controls</li>
          </ul>
        </div>
        <br />
        Combining the data structures, the concurrent control and the
        suballocators, we have 4 version of each data structure. Each version
        have the same name and a suffix. These classes are only alias template
        of the base class. By example the classes vector_tree, vector_tree_cnc,
        vector_tree_pool and vector_tree_pool_cnc are alias template, assigning
        fixed values to the template parameters of the class cntree_vector.  The
        same mechanism is done with the others four classes.<br />
        <br />
        The final classes provided to the users are alias template of these base
        classes. You can see several classes with the same name and different
        suffix. The meaning of these suffix is :<br />
        <span style="font-weight: bold;">_cnc</span>           : indicate that
        the data structure have concurrent control, and can be used safely
        combining any operations in a multi thread environment<br />
        <span style="font-weight: bold;">_pool</span>          : indicate that
        the memory management of this data structure is done with a suballocator<br />
        <span style="font-weight: bold;">_pool_cnc </span> : indicate the data
        structure is thread safe and the pool too<br />
        <br />
        Combining the base classes with the suffix, we have 4 version of each
        class<br />
        <br />
        <span style="font-weight: bold;">VECTOR_TREE</span><br />
        <div style="margin-left: 40px;">vector_tree                =
          cntree_vector<br />
          vector_tree_pool        = cntree_vector + suballocator
          &lt;std::allocator&gt;<br />
          vector_tree_cnc         = cntree_vector concurrent <br />
          vector_tree_pool_cnc = cntree_vector concurrent + suballocator_cnc
          &lt;std::allocator&gt;</div>
        <br />
        <span style="font-weight: bold;">SET</span><br />
        <div style="margin-left: 40px;">set                =  cntree_set<br />
          set_pool        =  cntree_set + suballocator &lt;std::allocator&gt;<br />
          set_cnc         =  cntree_set concurrent<br />
          set_pool_cnc =  cntree_set concurrent + suballocator_cnc
          &lt;std::allocator&gt;</div>
        <br />
        <span style="font-weight: bold;">MULTISET</span><br />
        <div style="margin-left: 40px;">multiset                =
          cntree_multiset<br />
          multiset_pool        = cntree_multiset + suballocator
          &lt;std::allocator&gt;<br />
          multiset_cnc         = cntree_multiset concurrent<br />
          multiset_pool_cnc = cntree_multiset concurrent + suballocator_cnc
          &lt;std::allocator&gt;</div>
        <br />
        <span style="font-weight: bold;">MAP</span><br />
        <div style="margin-left: 40px;">map               = cntree_map<br />
          map_pool        = cntree_map + suballocator &lt;std::allocator&gt;<br />
          map_cnc         = cntree_map concurrent<br />
          map_pool_cnc = cntree_map concurrent + suballocator_cnc
          &lt;std::allocator&gt;</div>
        <br />
        <span style="font-weight: bold;">MULTIMAP</span><br />
        <div style="margin-left: 40px;">multimap                =
          cntree_multimap<br />
          multimap_pool        = cntree_multimap + suballocator
          &lt;std::allocator&gt;<br />
          multimap_cnc         = cntree_multimap concurrent<br />
          multimap_pool_cnc = cntree_multimap concurrent + suballocator_cnc
          &lt;std::allocator&gt;</div>
        <br />
        Apparently, with this the work is finished, but using this classes and
        functions they appeared new problems associated to the concurrency and
        not considered in the STL<br />
      </div>
      <br />
      <p class="cuerpo_texto"><br />
      </p>
      <br />
      <a style="float:right" href="P1.5.0_future.html#next_improvements" title="next_improvements"><img
          src="img/next.png" alt="link to next page" /></a> <a style="float:right"
        href="P1.0_introduction.html" title="introduction"><img src="img/up.png"
          alt="go to head of the page" /></a> <a style="float:right" href="P1.3.6_lock_system.html#lock"
        title="suballocators"><img alt="previous page" src="img/prev.png" /></a>
      <a style="float:right" href="index.html" title="index.html"><img alt="home page"
          src="img/home.png" /></a> <br />
       
      <table width="100%" xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision">
        <tbody>
          <tr>
            <td align="left">
              <p><small>Last revised: September  30, 2012 at 21:42:41 GMT</small></p>
            </td>
            <td align="right"> <br />
            </td>
          </tr>
        </tbody>
      </table>
      <hr />
      <div id="footer">
        <div id="footer-left">
          <div id="copyright">
            <p>Copyright Francisco Jose Tapia 2010-2012.</p>
          </div>
          <div id="license">
            <p>Distributed under the <a class="internal" href="/LICENSE_1_0.txt">Boost
                Software License, Version 1.0</a>.</p>
          </div>
        </div>
        <div id="footer-right">
          <div id="banners">
            <p id="banner-xhtml"> <a class="external" href="http://validator.w3.org/check?uri=referer">XHTML
                1.0</a></p>
            <p id="banner-css"> <a class="external" href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a></p>
            <p id="banner-osi"> <a class="external" href="http://www.opensource.org/docs/definition.php">OSI
                Certified</a></p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
